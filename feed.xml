<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>VincentNguyen</title>
  <subtitle>Code to change!</subtitle>
  <id>http://vincent.com</id>
  <link href="http://vincent.com"/>
  <link href="http://vincent.com/feed.xml" rel="self"/>
  <updated>2017-03-11T11:40:00+08:00</updated>
  <author>
    <name>Vincent</name>
  </author>
  <entry>
    <title>Cleancoder chapter 1</title>
    <link rel="alternate" href="http://vincent.com/2017/03/11/clean-coder-chapter-1/"/>
    <id>http://vincent.com/2017/03/11/clean-coder-chapter-1/</id>
    <published>2017-03-11T11:40:00+08:00</published>
    <updated>2017-03-11T14:30:07+08:00</updated>
    <author>
      <name>Vincent</name>
    </author>
    <summary type="html">&lt;p&gt;&lt;strong&gt;Personal note after reading The Cleancoder chapter 1. Thanks &lt;a href="https://sites.google.com/site/unclebobconsultingllc/"&gt;Uncle Bob&lt;/a&gt; for this awesome book.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If you are a developer, you have to read it. The perfect time to read is when you have two or three years experience in software/web/backend development...&lt;/p&gt;</summary>
    <content type="html">&lt;p&gt;&lt;strong&gt;Personal note after reading The Cleancoder chapter 1. Thanks &lt;a href="https://sites.google.com/site/unclebobconsultingllc/"&gt;Uncle Bob&lt;/a&gt; for this awesome book.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;If you are a developer, you have to read it. The perfect time to read is when you have two or three years experience in software/web/backend development.&lt;/p&gt;

&lt;h2 id="professionalism"&gt;Professionalism&lt;/h2&gt;

&lt;p&gt;All of us want to be a professional software developer. What's professionalism?&lt;/p&gt;

&lt;p&gt;You know, it's a lot easier to be a nonprofessional, and me I used to be a nonprofessional software developer. I don't tell now I'm a professional software developer, I'm trying to be a better software developer.&lt;/p&gt;

&lt;p&gt;Non-professionals don't have to take responsibility for the job they do, sometimes they leave that to their employers or customers.
If a nonprofessional makes an error, they will fix in a beautiful day or simpler they ignore it and they hope QA or customer won't find it.
But when a professional makes a mistake, he cleans up the mess and tries to prevent it happen again in the future.&lt;/p&gt;

&lt;p&gt;So, &lt;strong&gt;professionalism is all taking responsibility.&lt;/strong&gt;&lt;/p&gt;

&lt;h2 id="how-do-we-take-responsibility"&gt;How do we take responsibility?&lt;/h2&gt;

&lt;p&gt;The book show some principles:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Do No Harm to Function&lt;/li&gt;
  &lt;li&gt;Do No Harm to Structure&lt;/li&gt;
  &lt;li&gt;Work Ethic&lt;/li&gt;
  &lt;li&gt;Know Your Field&lt;/li&gt;
  &lt;li&gt;Continuous Learning&lt;/li&gt;
  &lt;li&gt;Practice&lt;/li&gt;
  &lt;li&gt;Collaboration&lt;/li&gt;
  &lt;li&gt;Mentoring&lt;/li&gt;
  &lt;li&gt;Know Your Domain&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="do-no-harm-to-function"&gt;Do No Harm to Function&lt;/h3&gt;

&lt;p&gt;Software is too complex to create without bugs. We have to take responsibility for their implementation to get as close as possible to it.&lt;/p&gt;

&lt;p&gt;The book teaches me when I release any feature, I should expect QA to find nothing. Yes, nothing. QA is not a bug catcher. This means I have to know my code works.
So, how do I know my code works? That's easy. Test it, test it again, test it up, test it down, test it seven ways to Sunday - Uncle Bob says&lt;/p&gt;

&lt;p&gt;Haha, When I read this paragraph, I suddenly remember I told the same thing with my team and they said they don't have to time to test, many features and bugs are waiting for us.
It can be true, right? lol.&lt;/p&gt;

&lt;p&gt;What Uncle Bob said?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Automate your tests&lt;/strong&gt; Write unit tests that you can execute on a moment's notice and run those tests as often as you can.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;Every single line of your code should be tested - 100% test coverage.&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;But isn't some code hard to test? Yes, in a lot of cases I didn't know how to test.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The solution is to design your code to be easy to test. &lt;strong&gt;And the best way to do that is to write your tests first, before you write the code to pass them.
Let's Test driven your design, your development.&lt;/strong&gt; This is a discipline known as &lt;strong&gt;Test Driven Development (TDD)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="do-no-harm-to-structure"&gt;Do No Harm to Structure&lt;/h3&gt;

&lt;p&gt;In a few projects I got a lot of troubles, you will ask me what kind of trouble? Huh, look the picture below:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://docs.google.com/uc?id=0B-S3PHiYZOY1czRkbzZVbUR0VDA" alt="bug-everywhere" /&gt;&lt;/p&gt;

&lt;p&gt;Based on my experience, I know bugs come from the code, the application's structure. If your application structure and your code are messy, trust me, you will join the Bug Party 24/7.
In these cases, I want to refactor the code, apply the principles and patterns of software design that support structures are flexible and maintainable.&lt;/p&gt;

&lt;p&gt;Uncle Bob showed me a trick that I should follow: &lt;strong&gt;If you want your software to be flexible, you have to flex it&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;The only way to prove that your software is easy to change is to make easy changes to it. And when you find that the changes aren't as easy as you thought, you refine the design so that the next design change is easier.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;He introduced me a rule: &lt;strong&gt;Always check in a module cleaner than when you checked it out. Always make some random act of kindness to the code whenever you see it.&lt;/strong&gt;&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This action is dangerous. No! Uncle Bob said. &lt;strong&gt;What is dangerous is allowing the software to remain static.&lt;/strong&gt;
If you aren't flexing it then when you do need a change it, you will find it rigid. And if you scare continuous changes then this mean you don't have tests. It's so TRUE.&lt;/p&gt;

&lt;p&gt;100% test coverage will help you confident with any changes.&lt;/p&gt;

&lt;h3 id="work-ethic"&gt;Work Ethic&lt;/h3&gt;

&lt;p&gt;One thing that Uncle Bob said in this part that the thing I didn't know in my first three years experience. &lt;strong&gt;Your career is your responsibility.&lt;/strong&gt;
Don't wait your company gives to you a favor, you should find a way to do them by yourself. If you wanna join a conference, you should buy a ticket, wanna read a book, go ahead.&lt;/p&gt;

&lt;p&gt;Bob also let me know about professional developers always spend time caring for their profession.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Plan on working 60 hours per week. 30 to 40 hours for your employer. The remaining 20/30 hours are for you. During this remaining 20/30 hours, you should be reading, practicing, learning, writing to enhance your career.
&lt;strong&gt;20/30 hours is your and you should be doing those things that reinforce programming passion.&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="know-your-field"&gt;Know Your Field&lt;/h3&gt;

&lt;p&gt;Uncle Bob haves a minimal list of the things that every software professional should be conversant with:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Design Patterns - You should able to describe, understand all 24 patterns in the GOF book and usually using favorite few patterns.&lt;/li&gt;
  &lt;li&gt;Design Principles - You should know SOLID principles and have a good understanding of the component principles.&lt;/li&gt;
  &lt;li&gt;Methods - You should understand XP, Scrum, Lean, Kanban, Agile …&lt;/li&gt;
  &lt;li&gt;Disciplines - You should practice TDD, Object Oriented Design, Structured Programming, Continous Integration and Pair Programming.&lt;/li&gt;
  &lt;li&gt;Artifacts - You should know how to use: UML, DFDs, Structure Charts …&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="continuous-learning"&gt;Continuous Learning&lt;/h3&gt;

&lt;p&gt;This part really pushes me up.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Read books, articles, blogs, tweets. Go to conferences, meetups.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Learn things that are outside your comfort zone&lt;/strong&gt;. If you are Ruby developer, then learn Java/Elixir/Rust/C. Learn to train your brain.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id="practice"&gt;Practice&lt;/h3&gt;

&lt;p&gt;Profession practice. True professional work hard to keep their skills sharp and get ready.&lt;/p&gt;

&lt;p&gt;To do that, you have to do daily practice. Solve Katas the good ways to train your fingers and your brain. Solve by multiple languages to maintain your ski Solve Katas the good ways to train your fingers and your brain. Solve by multiple languages to maintain your skill.&lt;/p&gt;

&lt;p&gt;At least two katas in every day. From morning to warm up to evening before you sleep.&lt;/p&gt;

&lt;h3 id="collaboration---mentoring"&gt;Collaboration - Mentoring&lt;/h3&gt;

&lt;p&gt;Share your knowledge and problems with people - A lot of superman around you, you can learn a lot of from them.&lt;/p&gt;

&lt;p&gt;Write blogs to teach people and get their feedback to improve your skill.&lt;/p&gt;

&lt;h3 id="know-your-domain"&gt;Know Your Domain&lt;/h3&gt;

&lt;p&gt;Before start any project, let's take the time to research. Interview your customer and users about the foundation and basic of the domain. Spend time with the experts and try to understand
their principles and values.&lt;/p&gt;

&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;This chapter really opened my eyes - helps me know what should I do to become a professional software developer.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Few notes about service oriented design</title>
    <link rel="alternate" href="http://vincent.com/2017/03/09/service-oriented-design-part-1/"/>
    <id>http://vincent.com/2017/03/09/service-oriented-design-part-1/</id>
    <published>2017-03-09T19:49:00+08:00</published>
    <updated>2017-03-11T11:39:00+08:00</updated>
    <author>
      <name>Vincent</name>
    </author>
    <summary type="html">&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;

&lt;p&gt;This is my note about Service Oriented Design after reading the book. Although the book is quite old,
but it helps me understand basic concepts about service oriented design and how to transform your web application to multiple services...&lt;/p&gt;</summary>
    <content type="html">&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;

&lt;p&gt;This is my note about Service Oriented Design after reading the book. Although the book is quite old,
but it helps me understand basic concepts about service oriented design and how to transform your web application to multiple services.&lt;/p&gt;

&lt;p&gt;Before going to the detail, let's read what's service oriented design?&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Service oriented design is about creating systems that group functionality around logical function and business practices.
  Services should be designed to be interoperable and reusable.
  The goal of service oriented design is to split up the parts of an application or system into components that can be iterated on,
  improved, and fixed without having to test and verify all the other components when an individual is updated.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;One more thing, this is my personal opinion after I read few chapters in the book:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I knew Ruby on Rails when I was an intern at a outsource company. After 3 years, based on
my experience and from some friends, I realized almost applications that built from Ruby on Rails framework had a big problem about performance.
More specifically, when the application got a lot of business logic with a complex view, many if-else conditions in controllers/views, that was the time
I feed very bad about performance of application. That was also the time I felt scared and didn't know how to solve that problem.&lt;/p&gt;

&lt;p&gt;My friends advise against using Rails because they say it's not scalable. Basically, I don't think Rails framework is the main problem,
even when Rails core code looks quite terrible, for example:
&lt;a href="https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/form_helper.rb"&gt;form_helper.rb&lt;/a&gt; or Rails architecture is monolithic architecture.&lt;/p&gt;

&lt;p&gt;The main problem comes from us, from the way we design application, the way we design database schema.&lt;/p&gt;

&lt;p&gt;A services approach provides more tools and ability to deal with scaling. Data can be split across services and the performance
under load can be optimized for each service.&lt;/p&gt;

&lt;h2 id="case-study-classruum"&gt;Case study: Classruum&lt;/h2&gt;

&lt;p&gt;This case study will have a little different with case study inside the book. I tried to apply concepts to one of projects that I worked.
The case study named Classruum - This is an education learning platform with a lot of main features:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Student subscribes different packages with many topics inside.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Student opens topic and start to learn.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Student does the exam after finish a topic.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Tutor creates topic and kind of exams.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Tutor publishes information relates courses and student can comments.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Users can chat together.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Notification system to send the message to students when tutor creates new topic or assignment.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;And so on …&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Classruum is a Rails web application, I and my team, we built it from scratch. Below is a diagram the way application works.&lt;/p&gt;

&lt;p&gt;&lt;img src="https://docs.google.com/uc?id=0B-S3PHiYZOY1MzE5OXNDUEpXbU0" alt="simple-diagram" /&gt;&lt;/p&gt;

&lt;p&gt;There is a database server and a few web application servers and some background processing that is integrated with the application.&lt;/p&gt;

&lt;p&gt;This diagram is quite powerful, and simple right? But it will be a trouble when the database server is unable to keep up with the number of requests or the application gains more models, controllers, views and tests.&lt;/p&gt;

&lt;p&gt;Service oriented design can help address these problems.&lt;/p&gt;

&lt;h2 id="converting-to-services"&gt;Converting to Services&lt;/h2&gt;

&lt;p&gt;The book shown a few questions helps determine how to redesign for services:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Which data has high read and low write frequency?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Which data has high write and update frequency?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Which joins occur most frequently?&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Which parts of the application have clearly defined requirements and design?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These questions will be analyse in the part 2.&lt;/p&gt;

&lt;p&gt;Now, I will show few general diagrams when breaking up the Classruum into Services.&lt;/p&gt;

&lt;p&gt;Everything of Classruum is contained in a single application.&lt;/p&gt;

&lt;p&gt;&lt;img src="/images/" alt="first" /&gt;&lt;/p&gt;

</content>
  </entry>
  <entry>
    <title>How to test monkey-patch methods?</title>
    <link rel="alternate" href="http://vincent.com/2017/03/06/how-to-test-monkey-patch-methods/"/>
    <id>http://vincent.com/2017/03/06/how-to-test-monkey-patch-methods/</id>
    <published>2017-03-06T22:52:00+08:00</published>
    <updated>2017-03-06T23:12:54+08:00</updated>
    <author>
      <name>Vincent</name>
    </author>
    <summary type="html">&lt;p&gt;I won't explain what's Monkey-patch, many developers knew about it.&lt;/p&gt;

&lt;p&gt;In Ruby, we can create and test monkey-patch methods like the code below:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    module StringExtensions
    # Number of words in a string
    def word_count
      self.split.size
...&lt;/code&gt;&lt;/pre&gt;</summary>
    <content type="html">&lt;p&gt;I won't explain what's Monkey-patch, many developers knew about it.&lt;/p&gt;

&lt;p&gt;In Ruby, we can create and test monkey-patch methods like the code below:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    module StringExtensions
    # Number of words in a string
    def word_count
      self.split.size
    end
  end

  describe String do
    before do
      String.include StringExtensions
    end

    describe "#word_count" do
      it "returns number of words in a string" do
        expect("Hell yeah".word_count).to eq 2
        expect("Hello world! I'm Vincent".word_count).to eq 4
      end

      it "returns zero if a string is empty" do
        expect("".word_count).to eq 4
      end
    end
  end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Personally, I don't like monkey-patch, we can create a Word class for methods relate to words in a string.
But you know, sometimes we have to monkey-path so this is one way we can apply.&lt;/p&gt;

&lt;p&gt;Thanks for reading!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>What's Agile?</title>
    <link rel="alternate" href="http://vincent.com/2017/03/06/whats-agile/"/>
    <id>http://vincent.com/2017/03/06/whats-agile/</id>
    <published>2017-03-06T22:24:00+08:00</published>
    <updated>2017-03-06T23:15:10+08:00</updated>
    <author>
      <name>Vincent</name>
    </author>
    <summary type="html">&lt;p&gt;What's Agile? Recent years, many people say about Agile, Agile certificates, SCRUM master, Kanban. And almost people
thinks Agile is something big - they open Agile days/conference and they say we will use Agile to manage software projects.&lt;/p&gt;

&lt;p&gt;Huh, honestly...&lt;/p&gt;</summary>
    <content type="html">&lt;p&gt;What's Agile? Recent years, many people say about Agile, Agile certificates, SCRUM master, Kanban. And almost people
thinks Agile is something big - they open Agile days/conference and they say we will use Agile to manage software projects.&lt;/p&gt;

&lt;p&gt;Huh, honestly, I really hate those who say about that - Scrum, Kanban or certificates are ways to develop software better.
In my opinion, Agile are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Individuals and interactions overs processes and tools.&lt;/li&gt;
  &lt;li&gt;Working software over comprehensive documentation.&lt;/li&gt;
  &lt;li&gt;Customer collaboration over contract negotiation.&lt;/li&gt;
  &lt;li&gt;Responding to change over following a plan.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;That's all. I only need to keep remember 4 manifesto.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Few Ruby Katas in a rainy day</title>
    <link rel="alternate" href="http://vincent.com/2017/03/05/few-ruby-kata-in-sunday/"/>
    <id>http://vincent.com/2017/03/05/few-ruby-kata-in-sunday/</id>
    <published>2017-03-05T18:00:00+08:00</published>
    <updated>2017-03-05T18:50:23+08:00</updated>
    <author>
      <name>Vincent</name>
    </author>
    <summary type="html">&lt;p&gt;In a rainy Sunday, I have solved three katas.&lt;/p&gt;

&lt;h3 id="kata-1"&gt;Kata #1&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Return the first longest string consisting of k consecutive strings taken in the array&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Example:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  longest_consec(["zone", "abigail", "theta", "form", "libe",
"zas", "theta", "abigail"], 2) ...&lt;/code&gt;&lt;/pre&gt;</summary>
    <content type="html">&lt;p&gt;In a rainy Sunday, I have solved three katas.&lt;/p&gt;

&lt;h3 id="kata-1"&gt;Kata #1&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Return the first longest string consisting of k consecutive strings taken in the array&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Example:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  longest_consec(["zone", "abigail", "theta", "form", "libe",
"zas", "theta", "abigail"], 2) # "abigailtheta"
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;I solved this kata with a helping from &lt;a href="https://ruby-doc.org/core-2.1.0/Enumerable.html#method-i-each_cons"&gt;each_cons&lt;/a&gt; method.
A method belongs to Enumerable in Ruby.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The code will be:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  def longest_consec(strarr, k)
  strarr_length = strarr.length
  return "" if strarr_length == 0 || k &amp;gt; strarr_length || k &amp;lt;= 0
  return strarr.each_cons(k).map {|el| el.join("") }.max_by(&amp;amp;:length)
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="kata-2"&gt;Kata #2&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Write a function that takes in a string of one or more words, and returns the same string, but with all five or more letter words reversed
Strings passed in will consist of only letters and spaces. Spaces will be included only when more than one word is present.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Example:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  spin_words("Hey fellow warriors") # "Hey wollef sroirraw"
spin_words("Hello world. My name is Vincent") # olleH .dlrow My name is tnecniV
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This kata is quite easy to solve. Basically, I just split the string into an array of words and reverse words that have more than 5 letters.
Then I will convert that array of words to string.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The code will be:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  def spin_words(string)
  string.split(" ").map {|el|
    if el.length &amp;gt;= 5 then el.reverse else el end}.join(" ")
end
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="kata-3"&gt;Kata #3&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;A string is considered to be in title case if each word in the string is
either (a) capitalised (that is, only the first letter of the word is in
upper case) or (b) considered to be an exception and put entirely into
lower case unless it is the first word, which is always capitalised.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Write a function that will convert a string into title case, given an
optional list of exceptions (minor words). The list of minor words will
be given as a string with each word separated by a space. Your function
should ignore the case of the minor words string – it should behave in
the same way even if the case of the minor word string is changed.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Example:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  title_case('a clash of KINGS', 'a an the of') # A Class of Kings
title_case('THE WIND IN THE WILLOWS', 'The In') # The Wind in the Willows
title_case('the quick brown fox') # The Quick Brown Fox
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If the minor_words option is null then we will capitalize each word in this input string.
If there is minor_word option then we only capitalize words that don't inside the minor_word list.
In addition, we always capitalize the first word of string.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The code will be:&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  def title_case(title, minor_words = '')
  if minor_words.empty?
    title.split(" ").map(&amp;amp;:capitalize).join(" ")
  else
    minor_arr = minor_words.split(" ").map(&amp;amp;:downcase)
    first_el, *rest_el = title.split(" ").map(&amp;amp;:downcase)
    rest_el.map {|el| unless minor_arr.include?(el) then el.capitalize else el end}.unshift(first_el.capitalize).join(" ")
  end
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Thanks for reading!&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>How to scrape a web page to find duplicate contents</title>
    <link rel="alternate" href="http://vincent.com/2017/03/03/scrape-web-page-to-find-duplicate-contents/"/>
    <id>http://vincent.com/2017/03/03/scrape-web-page-to-find-duplicate-contents/</id>
    <published>2017-03-03T23:40:00+08:00</published>
    <updated>2017-03-04T18:05:52+08:00</updated>
    <author>
      <name>Vincent</name>
    </author>
    <summary type="html">&lt;p&gt;I recently tried to submit my job application to a few companies, unfortunately, I still can't get hired but I passed some rounds
for technical test. This post is a technical test from a company in Singapore, they want to me write a tool to
find duplicated...&lt;/p&gt;</summary>
    <content type="html">&lt;p&gt;I recently tried to submit my job application to a few companies, unfortunately, I still can't get hired but I passed some rounds
for technical test. This post is a technical test from a company in Singapore, they want to me write a tool to
find duplicated contents from their website.&lt;/p&gt;

&lt;p&gt;From the requirement, you will know we need to write a scraping tool and an algorithm to find duplicated contents.
So this post will have two sections: &lt;em&gt;how to scrape a site&lt;/em&gt; and &lt;em&gt;how to find duplicated contents&lt;/em&gt;?&lt;/p&gt;

&lt;h2 id="how-to-scrape-a-site"&gt;How to scrape a site&lt;/h2&gt;

&lt;p&gt;We will open any website, for example, &lt;a href="https://www.viki.com"&gt;Viki&lt;/a&gt;. At the first glance, you will find the problem.&lt;/p&gt;

&lt;p&gt;&lt;img src="https://docs.google.com/uc?id=0B-S3PHiYZOY1S0otclJ0OHFOckk" alt="Viki - Homepage" /&gt;&lt;/p&gt;

&lt;p&gt;We can say: Contents are considered duplicate if they had the same URL, title, and image_src.&lt;/p&gt;

&lt;p&gt;What's next step? Will we write a code to parse HTML contents?&lt;/p&gt;

&lt;p&gt;No, we need to check again because you know, a famous site like Viki, I don't believe they only use one way to render contents.&lt;/p&gt;

&lt;p&gt;So, what should I do? Okay - We will the javascript on this website to find which contents will be rendered by Javascript. Wait!!! Perharps some people will ask me why I do that? Why I disable javascript?&lt;/p&gt;

&lt;p&gt;My answer is very simple, trust me, because this will directly affect the way you will scrape the site!&lt;/p&gt;

&lt;p&gt;So, this is a screenshot after I turned off Javascript&lt;/p&gt;

&lt;p&gt;&lt;img src="https://docs.google.com/uc?id=0B-S3PHiYZOY1Y3pjanhsSFJXbk0" alt="Viki - After disabled JS - Homepage" /&gt;&lt;/p&gt;

&lt;p&gt;There is a difference between these images - You can't find the &lt;strong&gt;"TOP PICKS FOR YOU"&lt;/strong&gt; section in the screenshot that I disabled Javascript.
This mean maybe this section is rendered from AJAX call by using Javascript.&lt;/p&gt;

&lt;p&gt;Next step, we will use Chrome Developer Tool to find the common HTML structure of these duplicated contents.&lt;/p&gt;

&lt;p&gt;&lt;img src="https://docs.google.com/uc?id=0B-S3PHiYZOY1Szl5a0V5UG96aHM" alt="Viki - Inspect common html structure" /&gt;&lt;/p&gt;

&lt;p&gt;These elements has common class &lt;code&gt;"thumbnail js-express-player"&lt;/code&gt; and structure inside &lt;code&gt;&amp;lt;div class="thumbnail-wrapper"&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;, &lt;code&gt;&amp;lt;div class="thumbnail-description"&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;.
We will parse to get html contents based on these classes.&lt;/p&gt;

&lt;p&gt;Here is the final decision: AFTER the page finished loading contents, we will crawl the site, parse the HTML contents.&lt;/p&gt;

&lt;p&gt;My favorite language is Ruby - and in Ruby, I can use &lt;a href="https://ruby-doc.org/stdlib-2.1.0/libdoc/open-uri/rdoc/OpenURI.html"&gt;open-uri&lt;/a&gt;
or few gems such as &lt;a href="http://www.nokogiri.org/"&gt;nokogiri&lt;/a&gt;, &lt;a href="https://github.com/sparklemotion/mechanize"&gt;mechanize&lt;/a&gt; to crawl and parse HTML contents.&lt;/p&gt;

&lt;p&gt;But we want to parse the content that AJAX loads its, hence these gems can't handle it.
In this case, we can use &lt;a href="https://github.com/SeleniumHQ/selenium/wiki/Ruby-Bindings"&gt;Selenium-Webdriver&lt;/a&gt; with a headless webkit - &lt;a href="https://github.com/ariya/phantomjs"&gt;PhantomJS&lt;/a&gt; to crawl the page and &lt;a href="https://github.com/ariya/phantomjs"&gt;Nokogiri&lt;/a&gt; to parse.&lt;/p&gt;

&lt;p&gt;Basically the code will be:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  @driver = Selenium::WebDriver.for(:phantomjs)
@driver.navigate.to('https://www.viki.com')
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;After that, we will use Nokogiri to parse HTML contents&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  page_source = Nokogiri::HTML(@driver.page_source)
body = page_source.css('.thumbnail.js-express-player')
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As I said before, we will parse title, url and image_src and these will be located on an object: &lt;code&gt;{title: "...", image_src: "...", url: "xxx"}&lt;/code&gt;.
Hence the code will be:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  body.map {|element|
  {
    "title" =&amp;gt; element.css('.thumb-title').text.strip,
    "image_src" =&amp;gt; element.css('.thumbnail-img img').attribute('src').text,
    "url" =&amp;gt; element.css('.thumbnail-img').attribute('href').text
  }.to_s
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When we get a list of objects then we are ready to go to step two: Find the duplicated contents from this list.&lt;/p&gt;

&lt;h2 id="how-to-find-duplicated-contents"&gt;How to find duplicated contents&lt;/h2&gt;

&lt;p&gt;We had the array of objects so how to find identical objects in array? We implement a loop and compare one by one to find the identical object?
Huh, that's solution will work but the Big O notation is &lt;strong&gt;O(n^2)&lt;/strong&gt; - the code will run very slow.&lt;/p&gt;

&lt;p&gt;So what's the better solution? Did you remember the &lt;a href="https://en.wikipedia.org/wiki/MD5"&gt;MD5 algorithm&lt;/a&gt;? The MD5 algorithm is a widely used hash function producing a 128-bit hash value.
It can be used as a checksum to verify data integrity.&lt;/p&gt;

&lt;p&gt;In this case, I need a cryptographic hash that takes content and returns a fixed bit string. Objects have the same content will be grouped with identical hash.&lt;/p&gt;

&lt;p&gt;Ruby have a library called &lt;a href="https://ruby-doc.org/stdlib-2.1.0/libdoc/digest/rdoc/Digest.html"&gt;Digest/MD5&lt;/a&gt; can help me encrypt.&lt;/p&gt;

&lt;p&gt;Below is my code sample, the final result is hash contains identical objects, and of course the Big O notation is &lt;strong&gt;O(n)&lt;/strong&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;  hash = {}
raw.each do |el|
  key = Digest::MD5.hexdigest(el).to_sym
  hash.has_key?(key) ? hash[key].push(el) : hash[key] = [el]
end

hash.delete_if { |key, value| value.size == 1 }
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;From this technical test, I develop a tool can extend to find duplicated contents from many websites. Source code available at &lt;a href="https://github.com/vinhnglx/dupco"&gt;vinhnglx/dupco&lt;/a&gt;&lt;/p&gt;
</content>
  </entry>
</feed>
