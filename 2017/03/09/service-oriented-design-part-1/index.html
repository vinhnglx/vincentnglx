<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge;chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <meta content="Personal blog of a simple developer with life's energy is coffee" name='description'>
    <meta content='vincent nguyen, vinnglx' name='keywords'>
    <meta content='Vincent Nguyen' property='og:title'>
    <meta content='website' property='og:type'>
    <meta content='https://vinhnglx.github.io/' property='og:url'>
    <title>
      Vincent Nguyen- Few notes about service oriented design
    </title>
    <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
    <script src="/javascripts/vendor/jquery.min.js"></script><script src="/javascripts/vendor/semantic-ui.js"></script><script src="/javascripts/app.js"></script>
    <link href="/stylesheets/all.css" rel="stylesheet" />
  </head>
  <body>
    <div class='ui secondary pointing menu large'>
      <div class='ui container'>
        <div class='header item'>
          <a class='item' href='/'>
            Vincent Nguyen
          </a>
          <a class='item' href='https://www.goodreads.com/vinhnglx' target='_blank'>
            Reading List
          </a>
          <a class='item' href='https://til-vinhnglx.herokuapp.com/' target='_blank'>
            Today I Learned
          </a>
        </div>
      </div>
    </div>
  </body>
</html>
<div class='ui main text container' role='main'>
  <h2 class='ui header'>
    Few notes about service oriented design
  </h2>
  <div class='content'>
    <div class='meta'>
      <span class='right floated'><i class='user icon small'></i>Vincent Nguyen
      </span>
      <span class='floated right'><i class='calendar icon small'></i> 9 March 2017
      </span>
    </div>
  </div>
  <div class='content'>
    <span class='right floated'>
      <a href="/tags/architecture/">architecture</a>&#44;
      <a href="/tags/design/">design</a>&#44;
      <a href="/tags/rails/">rails</a>&#44;
      <a href="/tags/service-oriented-design/">service oriented design</a>
    </span>
  </div>
  <div class='ui hidden divider'></div>
  <h2 id="introduction">Introduction</h2>
  
  <p>This is my note about Service Oriented Design after reading the book. Although the book is quite old,
  but it helps me understand basic concepts about service oriented design and how to transform your web application to multiple services.</p>
  
  <p>Before going to the detail, let's read what's service oriented design?</p>
  
  <blockquote>
    <p><em>Service oriented design is about creating systems that group functionality around logical function and business practices.
    Services should be designed to be interoperable and reusable.
    The goal of service oriented design is to split up the parts of an application or system into components that can be iterated on,
    improved, and fixed without having to test and verify all the other components when an individual is updated.</em></p>
  </blockquote>
  
  <p><strong>One more thing, this is my personal opinion after I read few chapters in the book:</strong></p>
  
  <p>I knew Ruby on Rails when I was an intern at a outsource company. After 3 years, based on
  my experience and from some friends, I realized almost applications that built from Ruby on Rails framework had a big problem about performance.
  More specifically, when the application got a lot of business logic with a complex view, many if-else conditions in controllers/views, that was the time
  I feed very bad about performance of application. That was also the time I felt scared and didn't know how to solve that problem.</p>
  
  <p>My friends advise against using Rails because they say it's not scalable. Basically, I don't think Rails framework is the main problem,
  even when Rails core code looks quite terrible, for example:
  <a href="https://github.com/rails/rails/blob/master/actionview/lib/action_view/helpers/form_helper.rb">form_helper.rb</a> or Rails architecture is monolithic architecture.</p>
  
  <p>The main problem comes from us, from the way we design application, the way we design database schema.</p>
  
  <p>A services approach provides more tools and ability to deal with scaling. Data can be split across services and the performance
  under load can be optimized for each service.</p>
  
  <h2 id="case-study-classruum">Case study: Classruum</h2>
  
  <p>This case study will have a little different with case study inside the book. I tried to apply concepts to one of projects that I worked.
  The case study named Classruum - This is an education learning platform with a lot of main features:</p>
  
  <ul>
    <li>
      <p>Student subscribes different packages with many topics inside.</p>
    </li>
    <li>
      <p>Student opens topic and start to learn.</p>
    </li>
    <li>
      <p>Student does the exam after finish a topic.</p>
    </li>
    <li>
      <p>Tutor creates topic and kind of exams.</p>
    </li>
    <li>
      <p>Tutor publishes information relates courses and student can comments.</p>
    </li>
    <li>
      <p>Users can chat together.</p>
    </li>
    <li>
      <p>Notification system to send the message to students when tutor creates new topic or assignment.</p>
    </li>
    <li>
      <p>And so on â€¦</p>
    </li>
  </ul>
  
  <p>Classruum is a Rails web application, I and my team, we built it from scratch. Below is a diagram the way application works.</p>
  
  <p><img src="https://docs.google.com/uc?id=0B-S3PHiYZOY1MzE5OXNDUEpXbU0" alt="simple-diagram" /></p>
  
  <p>There is a database server and a few web application servers and some background processing that is integrated with the application.</p>
  
  <p>This diagram is quite powerful, and simple right? But it will be a trouble when the database server is unable to keep up with the number of requests or the application gains more models, controllers, views and tests.</p>
  
  <p>Service oriented design can help address these problems.</p>
  
  <h2 id="converting-to-services">Converting to Services</h2>
  
  <p>The book shown a few questions helps determine how to redesign for services:</p>
  
  <ul>
    <li>
      <p>Which data has high read and low write frequency?</p>
    </li>
    <li>
      <p>Which data has high write and update frequency?</p>
    </li>
    <li>
      <p>Which joins occur most frequently?</p>
    </li>
    <li>
      <p>Which parts of the application have clearly defined requirements and design?</p>
    </li>
  </ul>
  
  <p>These questions will be analyse in the part 2.</p>
  
  <p>Now, I will show few general diagrams when breaking up the Classruum into Services.</p>
  
  <p>Everything of Classruum is contained in a single application.</p>
  
  <p><img src="/images/" alt="first" /></p>
  <!-- %a{:name => "comments"} -->
  <!-- %h3.ui.dividing.header Comments -->
  <!-- = partial 'partials/comments' -->
</div>
<div class='ui vertical footer segment'>
  <div class='ui container'>
    <div class='ui stackable two column grid internally celled'>
      <div class='column'>
        <p>Vincent Nguyen</p>
        <a href="https://twitter.com/vinhnglx">Twitter</a>
        |
        <a href="https://github.com/vinhnglx/">GitHub</a>
      </div>
      <div class='column'>
        <p>By Year</p>
        <div class='ui list'>
          <a href="/archive/2017/" class="item">2017 (13)</a>
        </div>
      </div>
    </div>
  </div>
</div>
